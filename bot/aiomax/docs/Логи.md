#  Логирование событий

Библиотека AIOMAX теперь поддерживает подробное логирование всех событий, как в aiogram. Все события бота логируются с понятными сообщениями.

##  Новое: Подробное логирование событий

### Что логируется

####  Сообщения
```
12:34:56 - aiomax.events - INFO -  123456 - message
```

####  Нажатия кнопок
```
12:35:12 - aiomax.events - INFO -  123456 - button 'menu'
```

####  Контакты
```
12:35:45 - aiomax.events - INFO -  123456 - contact_received
```

####  FSM события
```
12:36:01 - aiomax.fsm - INFO -  123456 - fsm_state_change
12:36:15 - aiomax.fsm - DEBUG -  123456 - fsm_data_update
12:36:30 - aiomax.fsm - INFO -  123456 - fsm_finish
```

####  События бота
```
12:34:00 - aiomax.bot - INFO -  Bot started polling: @mybot (12345) - My Bot
12:34:01 - aiomax.events - INFO -  Executing on_ready handlers
12:34:01 - aiomax.events - INFO -  Bot is ready and listening for events
```

## Инициализация

Для начала импортируйте стандартную библиотеку `logging`: `import logging`
В коде (обычно в конце `main.py`) должна быть строка `logging.basicConfig(level=level)`
Подробнее о уровнях ниже

## INFO

Для стандартной работы бота обычно пишут `logging.basicConfig(level=logging.INFO)`
Значит в логах будет информация (например, о том, что бот запущен) и ошибки при поллинге

## DEBUG

При дебаге бота следует писать `logging.basicConfig(level=logging.DEBUG)`
В этом случае в логах будет то же что и в INFO, а также информация о сообщениях и коллбэках, которые были хендлены и не были

## Автоматическая настройка (новое)

В демонстрационном боте логирование настраивается автоматически с красивым форматированием:

```python
import logging
import sys

def setup_logging():
    formatter = logging.Formatter(
        fmt='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
        datefmt='%H:%M:%S'
    )

    root_logger = logging.getLogger()
    root_logger.setLevel(logging.INFO)

    # Убираем шум от других библиотек
    logging.getLogger('aiohttp').setLevel(logging.WARNING)
    logging.getLogger('asyncio').setLevel(logging.WARNING)

    console_handler = logging.StreamHandler(sys.stdout)
    console_handler.setFormatter(formatter)
    console_handler.setLevel(logging.DEBUG)

    root_logger.addHandler(console_handler)

    # Специальный логгер для событий
    event_logger = logging.getLogger('aiomax.events')
    event_logger.setLevel(logging.INFO)

# В начале main.py
setup_logging()
```

## Логгеры

- **`aiomax.bot`** - основные операции бота
- **`aiomax.events`** - события пользователей (сообщения, кнопки, контакты)
- **`aiomax.fsm`** - события машины состояний
- **`aiomax`** - корневой логгер библиотеки

## Символы в логах

Каждый тип события имеет свой символ:

-  - Новые сообщения
-  - Редактирование сообщений
-  - Удаление сообщений
-  - Нажатия кнопок
-  - Получение контактов
-  - Запуск бота пользователем
-  - Изменение названия чата
-  - Добавление/удаление пользователей
-  - Добавление/удаление бота
-  - Создание чатов
-  - Изменения состояний FSM
-  - Обновления данных FSM
-  - Очистка FSM
-  - Завершение FSM
-  - Выполнение обработчиков on_ready
-  - Успешные операции
-  - Ошибки и неудачные операции
-  - Выполнение команд

Это делает логи более читаемыми и позволяет быстро понять, что происходит с ботом.
