## `buttons.KeyboardBuilder`

Для создания клавиатуры необходимо инициализировать класс `buttons.KeyboardBuilder`.

Для добавления кнопок на клавиатуру можно использовать следующие функции, передав им `CallbackButton`, `LinkButton`, `GeolocationButton`, `ContactButton` или `ChatButton`:

Все функции (кроме `to_list`) возвращают клавиатуру, то есть возможен вариант написания `kb = KeyboardBuilder().add(**buttons)`

### `KeyboardBuilder.row(*buttons: List[Button])`

Добавляет новый ряд кнопок с переданными кнопкой / кнопками.

### `KeyboardBuilder.add(*buttons: List[Button])`

Добавляет кнопку / кнопки на последний ряд клавиатуры.

### `KeyboardBuilder.table(in_row: int, *buttons: List[Button])`

Добавляет кнопки на несколько рядов так, чтобы в каждом ряду было по `in_row` кнопок.

### ✨ НОВОЕ: `KeyboardBuilder.button(text: str, callback_data: str | None = None, url: str | None = None)`

Упрощённый метод для добавления кнопки (как в aiogram).

```python
kb = KeyboardBuilder()
kb.button("Кнопка 1", callback_data="btn1")  # Callback кнопка
kb.button("Ссылка", url="https://example.com")  # Кнопка-ссылка
```

**Параметры:**
- `text: str` - текст кнопки
- `callback_data: str | None` - данные для callback кнопки
- `url: str | None` - URL для кнопки-ссылки

Должен быть указан либо `callback_data`, либо `url`.

### ✨ НОВОЕ: `KeyboardBuilder.adjust(*sizes: int)`

Автоматически перераспределяет кнопки по рядам с указанными размерами.

```python
kb = KeyboardBuilder()
kb.button("1", callback_data="1")
kb.button("2", callback_data="2")
kb.button("3", callback_data="3")
kb.button("4", callback_data="4")
kb.adjust(2, 1)  # Результат: [[1, 2], [3], [4]]
```

**Пример:**
```python
# 5 кнопок по схеме: 2-2-1
kb = KeyboardBuilder()
for i in range(1, 6):
    kb.button(str(i), callback_data=f"num_{i}")
kb.adjust(2, 2, 1)
```

### `KeyboardBuilder.to_list()`

Конвертирует клавиатуру в сериализуемый список, который можно использовать при отправке сообщения. Функции для отправки сообщения вызывают это автоматически.

## ✨ Вспомогательные функции

### `buttons.quick_keyboard(*button_specs: tuple[str, str]) -> KeyboardBuilder`

Быстрое создание клавиатуры из кортежей.

```python
from aiomax.buttons import quick_keyboard

keyboard = quick_keyboard(
    ("Кнопка 1", "data1"),
    ("Кнопка 2", "data2"),
    ("Сайт", "https://example.com")  # Автоматически определяется как LinkButton
).adjust(2, 1)

await ctx.send("Меню:", keyboard=keyboard)
```

### `buttons.inline_keyboard(*rows: list[Button]) -> list[list[Button]]`

Создание инлайн-клавиатуры из готовых рядов кнопок.

```python
from aiomax.buttons import inline_keyboard, CallbackButton, LinkButton

keyboard = inline_keyboard(
    [CallbackButton("Да", "yes"), CallbackButton("Нет", "no")],
    [LinkButton("Подробнее", "https://example.com")]
)

await ctx.send("Вопрос?", keyboard=keyboard)
```

## Типы кнопок

### `CallbackButton(text: str, payload: str, intent: Literal['default', 'positive', 'negative'] = 'default')`

Кнопка, при нажатии которой боту придёт ивент `message_callback`, который можно поймать декоратором `on_button_callback`.

- `text: str` - текст кнопки

- `payload: str` - Payload, который передастся в `message_callback`

- `intent: Literal['default', 'positive', 'negative']` - намерение кнопки. Влияет на отображение клиентом

### `LinkButton(text: str, url: str)`

Кнопка-ссылка, при нажатии на которую у пользователя откроется веб-страница.

- `text: str` - текст кнопки

- `url: str` - ссылка, на которую ведет кнопка

### `GeolocationButton(text: str, quick: bool = False)`

Кнопка, при нажатии на которую пользователь сможет отправить геолокацию в чат.

- `text: str` - текст кнопки

- `quick: bool` - если `False`, то пользователь сможет просмотреть и выбрать геолокацию в открытом окне. Если `True`, то пользователю покажется только быстрое подтверждение о том, отправлять ли свою геолокацию. `False` по умолчанию

### `ContactButton(text: str)`

Кнопка, при нажатии на которую пользователь сможет отправить свою контактную информацию.

- `text: str` - текст кнопки

### `ChatButton(text: str, title: str, description: str | None = None, payload: str | None = None, uuid: int | None = None)`

Кнопка, при нажатии на которую пользователь сможет создать новый чат. Бот будет автоматически добавлен в новый чат. Создание такого чата можно отследить декоратором `on_button_chat_create`.

- `text: str` - текст кнопки

- `title: str` - название нового чата

- `description: str | None` - описание нового чата. `None` по умолчанию

- `payload: str | None` - Payload, который будет передан функциям с декоратором `Bot.on_button_chat_create` при создании чата. `None` по умолчанию

- `uuid: int | None` - UUID, который будет создан автоматически при отправке сообщения. Каждый отдельный UUID создаёт отдельный чат, чтобы при нажатию на одну и ту же кнопку несколько раз открывался или создавался один и тот же чат. **Укажите UUID, стоявший на прошлой кнопке при редактировании сообщения - при отправке сообщения указывать UUID не надо.**

### `WebAppButton(text: str, bot: str | int)`

Кнопка, при нажатии на которую пользователю откроется веб-приложение того или иного бота.

- `text: str` - текст кнопки

- `bot: str | int` - ID, имя пользователя или ссылка на бота, Web-app которого нужно открыть

### `MessageButton(text: str)`

Кнопка, при нажатии на которую пользователь отправит в чат определенный текст.

- `text: str` - текст кнопки. При нажатии на кнопку пользователь отправит этот текст в чат
